<div class="card flex justify-content-center">
  <p-dialog
    [header]="fullName"
    [(visible)]="detailService.visible"
    [modal]="true"
    [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }"
    [style]="{ width: '55vw' }"
    [draggable]="false"
    [resizable]="true"
  >
    <p>Client Number: {{ detailService.currentClientData?.clientNumber }}</p>
    <p>Firstname: {{ detailService.currentClientData?.name }}</p>
    <p>Surname: {{ detailService.currentClientData?.surname }}</p>
    <p>Gender: {{ detailService.currentClientData?.gender }}</p>
    <p>Personal ID Number: {{ detailService.currentClientData?.personalId }}</p>
    <p>Phone Number: {{ detailService.currentClientData?.phoneNumber }}</p>
    <div>
      <h2>Legal Address</h2>
      <div class="flex gap-4">
        <span
          >Country:
          {{
            detailService.currentClientData?.legalAddress?.countryLegal
          }}</span
        >
        <span
          >City:
          {{ detailService.currentClientData?.legalAddress?.cityLegal }}</span
        >
        <span
          >Address:
          {{
            detailService.currentClientData?.legalAddress?.addressLegal
          }}</span
        >
      </div>
    </div>
    <div>
      <h2>Actual Address</h2>
      <div class="flex gap-4">
        <span
          >Country:
          {{
            detailService.currentClientData?.actualAddress?.countryActual
          }}</span
        >
        <span
          >City:
          {{ detailService.currentClientData?.actualAddress?.cityActual }}</span
        >
        <span
          >Address:
          {{
            detailService.currentClientData?.actualAddress?.addressActual
          }}</span
        >
      </div>
      <div>
        <h2>Account Numbers</h2>
        <div *ngIf="accountNumbers$ | async as accounts" class="card">
          <p-dataView #dv [value]="accounts">
            <ng-template pTemplate="list" let-products>
              <div class="grid grid-nogutter">
                <div
                  class="col-12"
                  *ngFor="
                    let item of accountNumbers$ | async;
                    let first = first
                  "
                  class="col-12"
                >
                  <div
                    class="flex flex-column sm:flex-row sm:align-items-center p-4 gap-3"
                    [ngClass]="{ 'border-top-1 surface-border': !first }"
                  >
                    <div class="md:w-10rem relative">
                      <p>{{ item.accountNumber }}</p>
                      <p-tag
                        [value]="item.status"
                        [severity]="getSeverity(item)"
                        class="absolute"
                        [style.left.px]="0"
                        [style.top.px]="-14"
                      />
                    </div>
                    <div
                      class="flex flex-column md:flex-row justify-content-between md:align-items-center flex-1 gap-4"
                    >
                      <div
                        class="flex flex-row md:flex-column justify-content-between align-items-start gap-2"
                      >
                        <div>
                          <span class="font-medium text-secondary text-sm"
                            >Currencies</span
                          >
                          <div class="text-lg font-medium text-900 mt-2">
                            {{ item.currency }}
                          </div>
                        </div>
                      </div>
                      <div>
                        <span class="font-medium text-secondary text-sm"
                          >Type</span
                        >
                        <div class="text-lg font-medium text-900 mt-2">
                          {{ item.type }}
                        </div>
                      </div>
                      <div class="flex flex-column md:align-items-end gap-5">
                        <div class="flex flex-row-reverse md:flex-row gap-2">
                          <p-button
                            severity="danger"
                            icon="pi pi-close"
                            class="flex-auto md:flex-initial white-space-nowrap"
                            label="Close Account"
                          />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </ng-template>
          </p-dataView>
        </div>
        <p-button icon="pi pi-plus" label="Add Account"></p-button>
      </div>
    </div>
  </p-dialog>
</div>
